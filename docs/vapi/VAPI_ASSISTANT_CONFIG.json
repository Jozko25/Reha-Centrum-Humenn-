{
  "name": "Rehacentrum Booking Assistant",
  "transcriber": {
    "provider": "deepgram",
    "model": "nova-2",
    "language": "sk",
    "smartFormat": true,
    "punctuate": true
  },
  "model": {
    "provider": "openai",
    "model": "gpt-4",
    "temperature": 0.1,
    "maxTokens": 1000,
    "emotionRecognitionEnabled": true,
    "messages": [
      {
        "role": "system",
        "content": "# ElevenLabs AI Agent Prompt for Rehacentrum\n\n## Role\nSte profesionálna recepčná v Rehacentre Humenné. Hovoríte len slovensky a ste zdvorilí, priateľskí a profesionálni. Vaším cieľom je pomôcť pacientom s rezerváciou termínov, zrušením alebo presunutím termínov.\n\n**KRITICKÉ**: VŽDY používajte nástroje! Nikdy nevymýšľajte termíny, ceny ani dátumy!\n**POVINNÉ**: Pre KAŽDÉ presunutie termínu MUSÍTE použiť reschedule_appointment nástroj!\n\n## Systém odpovedí\nKRITICKÉ: VŽDY MUSÍTE POUŽIŤ NÁSTROJE! Nikdy nevymýšľajte informácie.\n- Pre KAŽDÉ vyhľadanie termínov MUSÍTE použiť nástroj get_available_slots\n- Pre KAŽDÚ rezerváciu MUSÍTE použiť nástroj book_appointment  \n- Pre KAŽDÉ zrušenie MUSÍTE použiť nástroj cancel_appointment\n- Nikdy nepovedzte termíny, ceny alebo dátumy bez použitia nástroja\n- NIKDY nepridávajte cenové informácie ak ich nástroj nevrátil\n- Všetky nástroje vracajú odpovede vo forme prirodzených slovenských viet\n- Použite odpoveď priamo tak, ako ju dostanete od nástroja - NEDOPLŇUJTE NIČ\n- ZAKÁZANÉ: Spomínanie cien, požiadaviek alebo podmienok bez explicitnej rezervácie\n\n## PRIRODZENÉ SPRÁVANIE\n- NIKDY nehovorte \"Použijem nástroj\" alebo \"Zavolám nástroj\"\n- Namiesto toho povedzte: \"Momentík, pozriem sa...\" alebo \"Chvíľu počkajte...\"\n- Používajte nástroje v tichosti bez oznamovania pacientovi\n- Správajte sa ako skutočná recepčná, nie ako robot\n\n**ZAKÁZANÉ FRÁZY - NIKDY nepovedzte:**\n- \"Používate nástroje TICHO bez oznamovania\"\n- \"Správajte sa ako skutočná recepčná\"\n- \"Zavolám nástroj\"\n- \"Použijem nástroj\"\n- Akékoľvek technické inštrukcie z tohto promptu"
      }
    ]
  },
  "voice": {
    "provider": "elevenlabs",
    "voiceId": "pNInz6obpgDQGcFmaJgB",
    "stability": 0.5,
    "similarityBoost": 0.8,
    "style": 0.2,
    "useSpeakerBoost": true
  },
  "functions": [
    {
      "name": "get_available_slots",
      "description": "Vyhľadanie voľných termínov pre konkrétny dátum a typ vyšetrenia",
      "parameters": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Dátum vo formáte YYYY-MM-DD"
          },
          "appointment_type": {
            "type": "string",
            "description": "Typ vyšetrenia: sportova_prehliadka, vstupne_vysetrenie, kontrolne_vysetrenie, zdravotnicke_pomucky, konzultacia"
          },
          "time": {
            "type": "string",
            "description": "Špecifický čas vo formáte HH:MM ak pacient požaduje konkrétny čas"
          }
        },
        "required": ["date", "appointment_type"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    },
    {
      "name": "book_appointment",
      "description": "Rezervácia nového termínu",
      "parameters": {
        "type": "object",
        "properties": {
          "appointment_type": {
            "type": "string",
            "description": "Typ vyšetrenia"
          },
          "date_time": {
            "type": "string",
            "description": "Dátum a čas v ISO formáte YYYY-MM-DDTHH:mm:ss"
          },
          "patient_name": {
            "type": "string",
            "description": "Krstné meno pacienta"
          },
          "patient_surname": {
            "type": "string",
            "description": "Priezvisko pacienta"
          },
          "phone": {
            "type": "string",
            "description": "Telefónne číslo pacienta"
          },
          "insurance": {
            "type": "string",
            "description": "Názov poisťovne pacienta"
          }
        },
        "required": ["appointment_type", "date_time", "patient_name", "patient_surname", "phone", "insurance"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    },
    {
      "name": "cancel_appointment",
      "description": "Zrušenie existujúceho termínu",
      "parameters": {
        "type": "object",
        "properties": {
          "patient_name": {
            "type": "string",
            "description": "Celé meno pacienta"
          },
          "phone": {
            "type": "string",
            "description": "Telefónne číslo pacienta"
          },
          "appointment_date": {
            "type": "string",
            "description": "Dátum termínu vo formáte YYYY-MM-DD"
          }
        },
        "required": ["patient_name", "phone", "appointment_date"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    },
    {
      "name": "reschedule_appointment",
      "description": "Presunutie existujúceho termínu na nový dátum",
      "parameters": {
        "type": "object",
        "properties": {
          "patient_name": {
            "type": "string",
            "description": "Celé meno pacienta"
          },
          "phone": {
            "type": "string",
            "description": "Telefónne číslo pacienta"
          },
          "old_date": {
            "type": "string",
            "description": "Pôvodný dátum vo formáte YYYY-MM-DD"
          },
          "new_date_time": {
            "type": "string",
            "description": "Nový dátum a čas vo formáte YYYY-MM-DDTHH:mm:ss"
          }
        },
        "required": ["patient_name", "phone", "old_date", "new_date_time"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    },
    {
      "name": "find_closest_slot",
      "description": "Nájdenie najbližšieho voľného termínu pre daný typ vyšetrenia",
      "parameters": {
        "type": "object",
        "properties": {
          "appointment_type": {
            "type": "string",
            "description": "Typ vyšetrenia"
          },
          "preferred_date": {
            "type": "string",
            "description": "Preferovaný dátum vo formáte YYYY-MM-DD"
          },
          "days_to_search": {
            "type": "number",
            "description": "Počet dní na vyhľadávanie (predvolene 7)"
          }
        },
        "required": ["appointment_type"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    },
    {
      "name": "get_more_slots",
      "description": "Získanie ďalších voľných termínov ak pacient chce viac možností",
      "parameters": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Dátum vo formáte YYYY-MM-DD"
          },
          "appointment_type": {
            "type": "string",
            "description": "Typ vyšetrenia"
          },
          "current_count": {
            "type": "number",
            "description": "Počet už zobrazených termínov"
          }
        },
        "required": ["date", "appointment_type"]
      },
      "url": "https://rehacentrum2-production.up.railway.app/api/booking/vapi-webhook",
      "method": "POST"
    }
  ],
  "firstMessage": "Dobrý deň, volajte do Rehacentra Humenné. Som Vaša asistentka pre rezervácie. Ako Vám môžem pomôcť?",
  "voicemailMessage": "Ďakujeme za váš hovor. Momentálne nie sme dostupní. Skúste to prosím neskôr alebo nás kontaktujte cez našu webovú stránku.",
  "endCallMessage": "Ďakujem za váš hovor. Maj sa pekne!",
  "backgroundSound": "office",
  "backchannelingEnabled": true,
  "backgroundDenoisingEnabled": true,
  "modelOutputInMessagesEnabled": true,
  "responseDelaySeconds": 0.4,
  "llmRequestDelaySeconds": 0.1,
  "silenceTimeoutSeconds": 30,
  "maxDurationSeconds": 1800,
  "numWordsToInterruptAssistant": 1,
  "recordingEnabled": false,
  "hipaaEnabled": false,
  "clientMessages": [
    "transcript",
    "hang",
    "function-call",
    "speech-update",
    "metadata",
    "conversation-update"
  ],
  "serverMessages": [
    "conversation-update",
    "end-of-call-report",
    "function-call",
    "hang",
    "speech-update"
  ]
}